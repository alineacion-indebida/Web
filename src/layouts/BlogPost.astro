---
import Base from "@/layouts/Base.astro"
import type { CollectionEntry } from "astro:content"
import FormattedDate from "@/components/FormattedDate.astro"
import { Image } from "astro:assets"

type Props = CollectionEntry<"news">["data"]

const { title, description, date, heroImage, categories, tags } = Astro.props
---

<Base title={title} description={description}>
	<article>
		<div class="mb-8 block overflow-hidden rounded-lg">
			{
				heroImage && (
					<figure class="h-auto w-auto object-cover md:h-[480px]">
						<Image
							class="transition duration-300 ease-in-out hover:scale-110"
							src={heroImage}
							alt={title}
							width={960}
							height={480}
							decoding="async"
							loading="lazy"
						/>
					</figure>
				)
			}
		</div>
		<div class="md:col-10 mb-12 text-center">
			<h1 class="text-2xl font-bold md:text-4xl">{title}</h1>
			<div
				class="text-text mt-4 flex flex-wrap items-center justify-center text-zinc-800 dark:text-zinc-200"
			>
				<div class="mx-3 mt-2 flex flex-wrap items-center font-medium">
					<figure>
						<Image
							alt="author.name"
							class="mr-2 h-6 w-6 rounded-full"
							width={50}
							height={50}
							src="/img/blog-placeholder.jpg"
							decoding="async"
							loading="lazy"
						/>
					</figure>
					<span>author.name</span>
				</div>
				<div class="mx-3 mt-2 flex flex-wrap items-center font-medium">
					<!-- FormattedDate date={date} / -->
				</div>
				<div class="mx-3 mt-2 flex flex-wrap items-center font-medium">
					{
						categories?.slice(0, 1).map((category) => (
							<a
								href={`/categories/${category}`}
								class="mr-2 font-medium capitalize hover:text-primary"
							>
								{category}
							</a>
						))
					}
				</div>
			</div>
		</div>
		<div class="prose prose-green prose-md md:prose-lg min-w-full">
			<slot />
		</div>
		<div class="mt-8">
			{
				tags?.map((tag) => (
					<a
						href={`/tags/${tag}`}
						class="mb-2 mr-2 inline-block rounded-full bg-zinc-200 px-3 py-1 text-sm font-semibold capitalize text-zinc-700 dark:bg-zinc-900 dark:text-zinc-400"
					>
						#{tag}
					</a>
				))
			}
		</div>
	</article>
</Base>
