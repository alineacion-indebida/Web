---
import Layout from "@/layouts/Base.astro"

import LiteYouTube from "@/components/LiteYouTube.astro"

import { videos } from "@/data/videos"

export async function getStaticPaths({ paginate }) {
	const formattedPosts = videos
	// videos.sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
	return paginate(formattedPosts, {
		pageSize: 6,
	})
}
const { page } = Astro.props

type VideoType = {
	id: string
	slug: string
	image: string
}
---

<Layout
	description="Últimas noticias en la Web Oficial del programa Alineación Indebida."
	title="Últimas noticias - Alineación indebida"
>
	<h1 class="mb-8 text-2xl font-bold md:text-3xl">Últimos videos</h1>
	<div class="mt-12 grid select-none grid-cols-2 gap-8 md:grid-cols-3">
		{
			page["data"]?.slice(0, 9).map((video: VideoType) => (
				<article class="flex w-full flex-col items-start">
					<LiteYouTube videoId={video.slug} backgroundImage={video.image} />
					<div class="relative">
						<h2 class="mt-3 text-xl font-semibold leading-6 text-zinc-900 group-hover:text-zinc-600 dark:text-white">
							<a href={`/video/${video.slug}/`}>
								<span class="absolute inset-0" />
								{video.title}
							</a>
						</h2>
					</div>
				</article>
			))
		}
	</div>
</Layout>
